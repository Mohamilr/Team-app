{"version":3,"sources":["components/UserNav/UserNav.js","assets/images/loader.gif","components/Loader.js","shared/WysiwygEditor.js","Containers/CreateArticle/CreateArticle.js","actions/PostArticleAction.js","actions/ViewArticleAction.js","Containers/ViewArticle/ViewArticle.js","actions/ActionTypes.js"],"names":["UserNav","useState","isNavVisible","setIsNavVisible","className","onClick","to","activeClassName","localStorage","removeItem","Loader","src","spinner","style","margin","display","width","alt","WysiwygEditor","editorState","setEditorState","setArticle","convertContentToHTML","currentContentAsHTML","draftToHtml","convertToRaw","getCurrentContent","console","log","wrapperClassName","editorClassName","toolbarClassName","onEditorStateChange","createMarkup","html","__html","DOMPurify","sanitize","ArticlePage","title","setTitle","article","EditorState","createEmpty","dispatch","useDispatch","handlePostArticle","authorId","parseInt","getItem","body","a","ApiCall","post","response","error","postArticle","onSubmit","e","preventDefault","type","placeholder","name","onChange","target","value","handleTitle","getAnArticle","id","get","data","VIEW_ARTICLE_LOADING","REFRESH","POST_COMMENT_LOADING","VIEW_ARTICLE","postComments","ViewArticle","match","writeComment","setWriteComment","useSelector","state","comment","loading","getAnArticleLoading","refresh","CommentLoading","PostCommentLoading","useEffect","params","dangerouslySetInnerHTML","handleComment","handleCommentPost","map","i","key","LOGIN","SIGNUP","FEEDS","FEEDS_LOADING","MY_ARTICLES","MY_GIFS","GIF_UPLOADING","VIEW_GIF","VIEW_GIF_LOADING"],"mappings":"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","file":"static/js/7.6818702c.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport './Usernav.css';\r\n\r\n// class UserNav extends Component {\r\nconst UserNav = () => {   \r\n    const [ isNavVisible, setIsNavVisible ] = useState(true);\r\n    \r\n    \r\n    const toggleNav = () => {\r\n        setIsNavVisible(!isNavVisible);\r\n    }\r\n        return (\r\n            <div>\r\n                <header>\r\n                <i className=\"fas fa-bars\" onClick={toggleNav}></i>\r\n                    {isNavVisible && (\r\n                        <nav className='user-nav'>\r\n                            <Link to='/feeds' className='app-name app'>Team App</Link>\r\n                            <ul>\r\n                                <li><NavLink activeClassName='active' to='/feeds'>Timeline</NavLink></li>\r\n                                <li><NavLink activeClassName='active' to='/create-article'>Post Article</NavLink></li>\r\n                                <li><NavLink activeClassName='active' to='/gif'>Post Gif</NavLink></li>\r\n                                <li><NavLink activeClassName='active' to='/my-posts'>My Posts</NavLink></li>\r\n                                <li onClick={() => { localStorage.removeItem('token'); localStorage.removeItem('id') }}><Link to='/'>Log Out</Link></li>\r\n                            </ul>\r\n                        </nav>\r\n                    )}\r\n                </header>\r\n            </div>\r\n        );\r\n};\r\n\r\nexport default UserNav;","export default __webpack_public_path__ + \"static/media/loader.bbecf458.gif\";","import React from 'react';\r\nimport spinner from '../assets/images/loader.gif';\r\n\r\n\r\nconst Loader = () => {\r\n      return (\r\n      <div>\r\n          <img src={spinner} style={{margin: '10em auto', display: 'block', width: '15em'}} alt='Loading' />\r\n      </div>\r\n      )\r\n}\r\n\r\nexport default Loader;","import React, { useState } from \"react\";\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport './wysiwyg.css';\r\n// Require Editor CSS files.\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\r\n\r\nexport const WysiwygEditor = ({ editorState, setEditorState, setArticle }) => {\r\n\r\n    //\r\n\r\n  const handleEditorChange = (editorState) => {\r\n    setEditorState(editorState);\r\n    convertContentToHTML();\r\n  }\r\n\r\n  const convertContentToHTML = () => {\r\n    let currentContentAsHTML = draftToHtml(convertToRaw(editorState.getCurrentContent()));\r\n    setArticle(currentContentAsHTML);\r\n    console.log(currentContentAsHTML)\r\n  }\r\n\r\n  return (\r\n    <Editor\r\n      wrapperClassName=\"wrapper-class\"\r\n      editorClassName=\"editor-class\"\r\n      toolbarClassName=\"toolbar-class\"\r\n      editorState={editorState}\r\n      onEditorStateChange={handleEditorChange}\r\n    />\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from 'react-redux';\r\nimport DOMPurify from 'dompurify';\r\nimport { WysiwygEditor } from '../../shared/WysiwygEditor';\r\nimport { postArticle } from '../../actions/PostArticleAction';\r\nimport UserNav from \"../../components/UserNav/UserNav\";\r\nimport \"./CreateArticle.css\";\r\n\r\n\r\n// new stuff here\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\n\r\nexport const createMarkup = (html) => {\r\n  return  {\r\n    __html: DOMPurify.sanitize(html)\r\n  }\r\n}\r\n\r\nconst ArticlePage = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [article, setArticle] = useState(\"\");\r\n\r\n\r\n  // new changes here\r\n  const [editorState, setEditorState] = useState(\r\n    () => EditorState.createEmpty(),\r\n  );\r\n\r\n\r\n\r\n\r\n\r\n  //\r\n  const dispatch = useDispatch();\r\n  \r\n\r\n\r\n  const handlePostArticle = () => {\r\n    const authorId = parseInt(localStorage.getItem(\"id\"));\r\n    const body = {\r\n      title,\r\n      article,\r\n      authorId\r\n    }\r\n    dispatch(postArticle(body));\r\n  }\r\n\r\n  const handleTitle = (e) => {\r\n      setTitle(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <UserNav />\r\n      <div className=\"write-article\">\r\n        <h1 className=\"header\">Write Your Article</h1>\r\n        <form onSubmit={(e) => {\r\n          e.preventDefault();\r\n          handlePostArticle()\r\n        }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Article Title\"\r\n            name=\"title\"\r\n            className=\"title\"\r\n            onChange={(e) => handleTitle(e)}\r\n          />\r\n          <div className=\"textarea\">\r\n            <WysiwygEditor editorState={editorState} setEditorState={setEditorState} setArticle={setArticle} />\r\n          </div>\r\n          <button className=\"btn-upload\">Publish</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArticlePage;\r\n","import ApiCall from \"../ApiCalls/ApiCall\";\r\n\r\nexport const postArticle = (body) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await ApiCall.post(\"articles\", body);\r\n      console.log(response);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n};\r\n","import { VIEW_ARTICLE, VIEW_ARTICLE_LOADING, POST_COMMENT_LOADING, REFRESH } from \"./ActionTypes\";\r\nimport ApiCall from \"../ApiCalls/ApiCall\";\r\n\r\nexport const getAnArticle = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await ApiCall.get(`articles/${id}`);\r\n      const { data: { data }} = response;\r\n\r\n      dispatch({ type: VIEW_ARTICLE_LOADING });\r\n      dispatch({ type: REFRESH, data: false});\r\n      dispatch({ type: POST_COMMENT_LOADING, data: false });\r\n      dispatch({ type: VIEW_ARTICLE, data: data });\r\n      console.log(response);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const postComments = (body, id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await ApiCall.post(`articles/${id}/comment`, body);\r\n      \r\n      dispatch({ type: REFRESH, data: true });\r\n      dispatch({ type: POST_COMMENT_LOADING, data: true });\r\n      \r\n      console.log(response);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAnArticle, postComments } from \"../../actions/ViewArticleAction\";\r\n// \r\nimport { createMarkup } from '../CreateArticle/CreateArticle';\r\nimport Loader from \"../../components/Loader\";\r\nimport \"./ViewArticle.css\";\r\n\r\nconst ViewArticle = ({ match }) => {\r\n  const [writeComment, setWriteComment] = useState('');\r\n  const { title } = useSelector((state) => state.getAnArticle);\r\n  const { article } = useSelector((state) => state.getAnArticle);\r\n  const { comment } = useSelector((state) => state.getAnArticle);\r\n  const loading = useSelector((state) => state.getAnArticleLoading);\r\n  const refresh = useSelector((state) => state.refresh);\r\n  const CommentLoading = useSelector((state) => state.PostCommentLoading);\r\n  //\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getAnArticle(match.params.id));\r\n  }, [refresh]);\r\n\r\n  const handleComment = (e) => {\r\n    setWriteComment(e.target.value);\r\n  };\r\n\r\n  const handleCommentPost = () => {\r\n      const authorId = parseInt(localStorage.getItem('id'));\r\n      const data = { comment: writeComment, authorId }\r\n    \r\n      dispatch(postComments(data, match.params.id));\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"view-container\">\r\n      <div className=\"article\">\r\n        {/* <Link to='/feeds'>Back to feeds</Link> */}\r\n        <h2>{title}</h2>\r\n        <article>{article}</article>\r\n        <article dangerouslySetInnerHTML={createMarkup(article)}></article>\r\n      </div>\r\n      <hr />\r\n      <div className=\"comment-section\">\r\n        <div>\r\n          <form className=\"comment-form\">\r\n            <input\r\n              placeholder=\"Comment\"\r\n              className=\"comment-field\"\r\n              onChange={(e) => handleComment(e)}\r\n            />\r\n            <br />\r\n            {CommentLoading ? (\r\n            <Loader />\r\n          ) : (\r\n            <button\r\n              className=\"btn-comment\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                handleCommentPost();\r\n              }}\r\n            >\r\n              Comment\r\n            </button>\r\n          )}\r\n          </form>\r\n        </div>\r\n        <div className='comments'>\r\n          {loading ? (\r\n            <Loader />\r\n          ) : comment ? (\r\n            comment.map((comment, i) => (\r\n              <div className=\"comment\" key={i}>\r\n                {/* <div className='article-properties'>\r\n            <p>time</p>\r\n        </div> */}\r\n                <article>{comment.comment}</article>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            \"no comments\"\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewArticle;\r\n","// Register\r\nexport const LOGIN = 'LOGIN';\r\nexport const SIGNUP = 'SIGNUP';\r\n//\r\nexport const FEEDS = 'FEEDS';\r\nexport const FEEDS_LOADING = 'FEEDS_LOADING';\r\n//\r\nexport const MY_ARTICLES = 'MY_ARTICLES';\r\nexport const MY_GIFS = 'MY_GIFS';\r\n//\r\nexport const GIF_UPLOADING = 'GIF_UPLOADING';\r\n//\r\nexport const VIEW_ARTICLE = 'VIEW_ARTICLE';\r\nexport const VIEW_ARTICLE_LOADING = 'VIEW_ARTICLE_LOADING';\r\n//\r\nexport const POST_COMMENT_LOADING = 'POST_COMMENT_LOADING';\r\n//\r\nexport const VIEW_GIF = 'VIEW_GIF';\r\nexport const VIEW_GIF_LOADING = 'VIEW_GIF_LOADING';\r\n// global reload\r\nexport const REFRESH = 'REFRESH';\r\n"],"sourceRoot":""}