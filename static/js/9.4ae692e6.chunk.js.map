{"version":3,"sources":["components/UserNav/UserNav.js","shared/WysiwygEditor.js","actions/ViewArticleAction.js","Containers/EditArticle/EditArticle.js","actions/EditArticleAction.js","actions/ActionTypes.js"],"names":["UserNav","useState","isNavVisible","setIsNavVisible","className","onClick","to","activeClassName","localStorage","removeItem","WysiwygEditor","editorState","setEditorState","setArticle","convertContentToHTML","currentContentAsHTML","draftToHtml","convertToRaw","getCurrentContent","console","log","wrapperClassName","editorClassName","toolbarClassName","onEditorStateChange","getAnArticle","id","dispatch","a","ApiCall","get","response","data","type","VIEW_ARTICLE_LOADING","REFRESH","POST_COMMENT_LOADING","VIEW_ARTICLE","error","postComments","body","post","EditArticle","match","title","useSelector","state","article","editedTitle","setEditedTitle","editedArticle","setEditedArticle","useDispatch","React","useEffect","EditorState","createWithContent","ContentState","createFromBlockArray","convertFromHTML","params","handleEditArticle","authorId","parseInt","getItem","patch","editArticle","onSubmit","e","preventDefault","placeholder","name","value","onChange","target","handleTitle","LOGIN","SIGNUP","FEEDS","FEEDS_LOADING","MY_ARTICLES","MY_GIFS","GIF_UPLOADING","VIEW_GIF","VIEW_GIF_LOADING"],"mappings":"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","file":"static/js/9.4ae692e6.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport './Usernav.css';\r\n\r\n// class UserNav extends Component {\r\nconst UserNav = () => {   \r\n    const [ isNavVisible, setIsNavVisible ] = useState(true);\r\n    \r\n    \r\n    const toggleNav = () => {\r\n        setIsNavVisible(!isNavVisible);\r\n    }\r\n        return (\r\n            <div>\r\n                <header>\r\n                <i className=\"fas fa-bars\" onClick={toggleNav}></i>\r\n                    {isNavVisible && (\r\n                        <nav className='user-nav'>\r\n                            <Link to='/feeds' className='app-name app'>Team App</Link>\r\n                            <ul>\r\n                                <li><NavLink activeClassName='active' to='/feeds'>Timeline</NavLink></li>\r\n                                <li><NavLink activeClassName='active' to='/create-article'>Post Article</NavLink></li>\r\n                                <li><NavLink activeClassName='active' to='/gif'>Post Gif</NavLink></li>\r\n                                <li><NavLink activeClassName='active' to='/my-posts'>My Posts</NavLink></li>\r\n                                <li onClick={() => { localStorage.removeItem('token'); localStorage.removeItem('id') }}><Link to='/'>Log Out</Link></li>\r\n                            </ul>\r\n                        </nav>\r\n                    )}\r\n                </header>\r\n            </div>\r\n        );\r\n};\r\n\r\nexport default UserNav;","import React, { useState } from \"react\";\r\nimport { Editor } from 'react-draft-wysiwyg';\r\nimport { EditorState, convertToRaw } from 'draft-js';\r\nimport draftToHtml from 'draftjs-to-html';\r\nimport './wysiwyg.css';\r\n// Require Editor CSS files.\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css'\r\n\r\nexport const WysiwygEditor = ({ editorState, setEditorState, setArticle }) => {\r\n\r\n    //\r\n\r\n  const handleEditorChange = (editorState) => {\r\n    setEditorState(editorState);\r\n    convertContentToHTML();\r\n  }\r\n\r\n  const convertContentToHTML = () => {\r\n    let currentContentAsHTML = draftToHtml(convertToRaw(editorState.getCurrentContent()));\r\n    setArticle(currentContentAsHTML);\r\n    console.log(currentContentAsHTML)\r\n  }\r\n\r\n  return (\r\n    <Editor\r\n      wrapperClassName=\"wrapper-class\"\r\n      editorClassName=\"editor-class\"\r\n      toolbarClassName=\"toolbar-class\"\r\n      editorState={editorState}\r\n      onEditorStateChange={handleEditorChange}\r\n    />\r\n  );\r\n};\r\n","import { VIEW_ARTICLE, VIEW_ARTICLE_LOADING, POST_COMMENT_LOADING, REFRESH } from \"./ActionTypes\";\r\nimport ApiCall from \"../ApiCalls/ApiCall\";\r\n\r\nexport const getAnArticle = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await ApiCall.get(`articles/${id}`);\r\n      const { data: { data }} = response;\r\n\r\n      dispatch({ type: VIEW_ARTICLE_LOADING });\r\n      dispatch({ type: REFRESH, data: false});\r\n      dispatch({ type: POST_COMMENT_LOADING, data: false });\r\n      dispatch({ type: VIEW_ARTICLE, data: data });\r\n      console.log(response);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const postComments = (body, id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await ApiCall.post(`articles/${id}/comment`, body);\r\n      \r\n      dispatch({ type: REFRESH, data: true });\r\n      dispatch({ type: POST_COMMENT_LOADING, data: true });\r\n      \r\n      console.log(response);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { EditorState, convertFromHTML, ContentState } from \"draft-js\";\r\nimport { editArticle } from \"../../actions/EditArticleAction\";\r\nimport { getAnArticle } from \"../../actions/ViewArticleAction\";\r\nimport { WysiwygEditor } from \"../../shared/WysiwygEditor\";\r\nimport UserNav from \"../../components/UserNav/UserNav\";\r\nimport \"../CreateArticle/CreateArticle.css\";\r\n\r\nconst EditArticle = ({ match }) => {\r\n  const { title } = useSelector((state) => state.getAnArticle);\r\n  const { article } = useSelector((state) => state.getAnArticle);\r\n  //\r\n  const [editedTitle, setEditedTitle] = useState(\"\");\r\n  const [editedArticle, setEditedArticle] = useState(\"\");\r\n\r\n  //\r\n  const dispatch = useDispatch();\r\n\r\n  const [editorState, setEditorState] = React.useState(null);\r\n\r\n  useEffect(() => {\r\n    setEditorState(\r\n      EditorState.createWithContent(\r\n        ContentState.createFromBlockArray(\r\n          convertFromHTML(!article ? \"<p></p>\" : article)\r\n        )\r\n      )\r\n    );\r\n  }, [article]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getAnArticle(match.params.id));\r\n  }, []);\r\n\r\n  const handleEditArticle = () => {\r\n    const authorId = parseInt(localStorage.getItem(\"id\"));\r\n    const body = {\r\n      title: editedTitle,\r\n      article: editedArticle,\r\n      authorId,\r\n    };\r\n    dispatch(editArticle(body, match.params.id));\r\n  };\r\n\r\n  const handleTitle = (e) => {\r\n      setEditedTitle(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <UserNav />\r\n      <div className=\"write-article\">\r\n        <h1 className=\"header\">Edit Article</h1>\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            handleEditArticle();\r\n          }}\r\n        >\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Article Title\"\r\n            name=\"title\"\r\n            className=\"title\"\r\n            value={title}\r\n            onChange={(e) => handleTitle(e)}\r\n          />\r\n          <div className=\"textarea\">\r\n            <WysiwygEditor\r\n              editorState={editorState}\r\n              setEditorState={setEditorState}\r\n              setArticle={setEditedArticle}\r\n            />\r\n          </div>\r\n          <button className=\"btn-upload\">Publish</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditArticle;\r\n","import ApiCall from \"../ApiCalls/ApiCall\";\r\n\r\nexport const editArticle = (body, id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await ApiCall.patch(`articles/${id}`, body);\r\n      console.log(response);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n};","// Register\r\nexport const LOGIN = 'LOGIN';\r\nexport const SIGNUP = 'SIGNUP';\r\n//\r\nexport const FEEDS = 'FEEDS';\r\nexport const FEEDS_LOADING = 'FEEDS_LOADING';\r\n//\r\nexport const MY_ARTICLES = 'MY_ARTICLES';\r\nexport const MY_GIFS = 'MY_GIFS';\r\n//\r\nexport const GIF_UPLOADING = 'GIF_UPLOADING';\r\n//\r\nexport const VIEW_ARTICLE = 'VIEW_ARTICLE';\r\nexport const VIEW_ARTICLE_LOADING = 'VIEW_ARTICLE_LOADING';\r\n//\r\nexport const POST_COMMENT_LOADING = 'POST_COMMENT_LOADING';\r\n//\r\nexport const VIEW_GIF = 'VIEW_GIF';\r\nexport const VIEW_GIF_LOADING = 'VIEW_GIF_LOADING';\r\n// global reload\r\nexport const REFRESH = 'REFRESH';\r\n"],"sourceRoot":""}